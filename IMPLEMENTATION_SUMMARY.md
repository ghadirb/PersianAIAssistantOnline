# โ ุฎูุงุตู ุชุบุฑุงุช ู ุฑูุน ูุดฺฉูุงุช

## ๐ฏ ูุดฺฉู ุงุตู
ุณุณุชู API Key Management ฺฉุงุฑ ููโฺฉุฑุฏ ู ฺฉูุฏูุง ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ูุนุงู ููโุดุฏูุฏ.

## โจ ุฑุงูโุญู ูพุงุฏูโุณุงุฒ ุดุฏู

### 1๏ธโฃ ุณุณุชู Auto-Provisioning ฺฉุงูู
**ูุงู ุฌุฏุฏ:** `AutoProvisioningManager.kt`

ูฺฺฏโูุง:
- โ ุฏุงูููุฏ ุฎูุฏฺฉุงุฑ ุงุฒ Google Drive
- โ ุฑูุฒฺฏุดุง ุจุง AES-256-GCM (PBKDF2)
- โ ูพุงุฑุณ ููุดููุฏ ฺฉูุฏูุง ุจุง ุชุดุฎุต ุฎูุฏฺฉุงุฑ provider
- โ ุงูููุชโุจูุฏ: AIML โ OpenRouter โ OpenAI โ Anthropic
- โ ุชุณุช ู validate ฺฉูุฏูุง
- โ Fallback ุฎูุฏฺฉุงุฑ ุฏุฑ ุตูุฑุช ุฎุทุง

### 2๏ธโฃ ุงูุชุฎุงุจฺฏุฑ ููุดููุฏ ูุฏู
**ูุงู ุฌุฏุฏ:** `ModelSelector.kt`

ูฺฺฏโูุง:
- โ ุงูููุช ุจู ูุฏูโูุง ุณุจฺฉ (1.5B โ 3B โ 8B โ 70B)
- โ ูุฏูโูุง ุงูููุชโุฏุงุฑ:
  1. Qwen2.5 1.5B (ุณุฑุนโุชุฑู)
  2. LLaMA 3.2 1B quantized
  3. LLaMA 3.2 3B quantized
  4. Mixtral 8x7B
  5. ูุฏูโูุง GPT ุฑุงฺฏุงู
  6. ูุฏูโูุง ูพูู (ุขุฎุฑู ุงูููุช)
- โ Fallback ุฎูุฏฺฉุงุฑ ุจู ูุฏู ุจุนุฏ

### 3๏ธโฃ ุณุณุชู ุชุณุช ู ุนุจโุงุจ
**ูุงู ุฌุฏุฏ:** `ProvisioningTest.kt`

ูฺฺฏโูุง:
- โ ููุงุด ูุถุนุช ฺฉุงูู ุฏุฑ Logcat
- โ ูุณุช ฺฉูุฏูุง ู ูุถุนุช ุขูโูุง
- โ ูุฏู ุงูุชุฎุงุจ ู ูุฏูโูุง ููุฌูุฏ
- โ ุฑุงูููุง ุนุจโุงุจ

### 4๏ธโฃ ุจูโุฑูุฒุฑุณุงู MainActivity
**ูุงู ุชุบุฑ ุงูุชู:** `MainActivity.kt`

ุชุบุฑุงุช:
- โ ุญุฐู ฺฉุฏ ูุฏู `DefaultApiKeys`
- โ ุงุถุงูู ุดุฏู ูุฑุงุฎูุงู `AutoProvisioningManager.autoProvision()` ุฏุฑ `onCreate()`
- โ ุงุณุชูุงุฏู ุงุฒ `ModelSelector` ุจุฑุง ุงูุชุฎุงุจ ูุฏู
- โ ุณุงุฏูโุณุงุฒ ูุชุฏ `chooseBestModel()`

## ๐ ูุฑูุช ูุงู ฺฉูุฏูุง

```
# AIML (ุฑุงฺฏุงู - ุงูููุช ุงูู)
aiml:sk-aiml-xxxxx
sk-aiml-yyyyy

# OpenRouter (ุฑุงฺฏุงู/ุงุฑุฒุงู - ุงูููุช ุฏูู)
openrouter:sk-or-xxxxx
sk-or-yyyyy

# OpenAI (ูพูู - ุงูููุช ุณูู)  
openai:sk-proj-xxxxx

# HuggingFace (ุงูุฒุงู ุจุฑุง STT)
huggingface:hf_xxxxx
hf_yyyyy
```

## ๐ ุฑูุฒฺฏุฐุงุฑ

ุฑูุฒ ูพุดโูุฑุถ: `12345`

ุงุณฺฉุฑูพุช Python ุจุฑุง ุฑูุฒฺฏุฐุงุฑ ููุฌูุฏ ุงุณุช ุฏุฑ:
`C:\Users\Admin\Downloads\key\encrypt_keys.py`

```bash
python encrypt_keys.py api_keys.txt encrypted_keys.txt 12345
```

## ๐ ูุญูู ฺฉุงุฑ ุณุณุชู

### ุฏุฑ ุงููู ุงุฌุฑุง ุจุฑูุงูู:

1. **ฺฺฉ ฺฉุฑุฏู ฺฉูุฏูุง ููุฌูุฏ**
   - ุงฺฏุฑ ฺฉูุฏ ูุฌูุฏ ุฏุงุฑุฏ โ ุงุฒ ุขู ุงุณุชูุงุฏู ูโฺฉูุฏ
   - ุงฺฏุฑ ฺฉูุฏ ูุณุช โ ูุฑุญูู ุจุนุฏ

2. **ุฏุงูููุฏ ุงุฒ Google Drive**
   - File ID: `17iwkjyGcxJeDgwQWEcsOdfbOxOah_0u0`
   - URL: `https://drive.google.com/uc?export=download&id=...`

3. **ุฑูุฒฺฏุดุง**
   - Algorithm: AES-256-GCM
   - KDF: PBKDF2-HMAC-SHA256 (20,000 iterations)
   - Password: `12345`

4. **ูพุงุฑุณ ฺฉูุฏูุง**
   - ุชุดุฎุต ุฎูุฏฺฉุงุฑ provider ุงุฒ pattern
   - ุงูููุชโุจูุฏ ุจุฑ ุงุณุงุณ ุงุณุชุฑุงุชฺ

5. **ุฐุฎุฑู ุฏุฑ PreferencesManager**
   - ุฐุฎุฑู ููู ฺฉูุฏูุง
   - ุนูุงูุชโฺฏุฐุงุฑ ฺฉูุฏูุง ูุนุงู

6. **ุงูุชุฎุงุจ ุจูุชุฑู ูุฏู**
   - ุงูููุช: ูุฏูโูุง ุณุจฺฉ
   - ููุงุณุจ ุจุฑุง ููุจุงูโูุง ุถุนู

## ๐จ ูฺฺฏโูุง ุงุถุงู

### ุชุดุฎุต ุฎูุฏฺฉุงุฑ Provider
```
sk-aiml-...    โ AIML
sk-or-...      โ OpenRouter
sk-proj-...    โ OpenAI
hf_...         โ HuggingFace (ุจุฑุง STT)
sk-ant-...     โ Anthropic
```

### Fallback Chain
```
AIML ฺฉุงุฑ ูฺฉุฑุฏ
  โ
OpenRouter ฺฉุงุฑ ูฺฉุฑุฏ
  โ
OpenAI ฺฉุงุฑ ูฺฉุฑุฏ
  โ
Anthropic
```

### Model Priority (ุณุจฺฉ โ ุณูฺฏู)
```
Qwen2.5 1.5B
  โ
LLaMA 3.2 1B
  โ  
LLaMA 3.2 3B
  โ
Mixtral 8x7B
  โ
LLaMA 3.3 70B
  โ
GPT/Claude (ูพูู)
```

## ๐งช ุชุณุช ุณุณุชู

### ุฏุฑ MainActivity:
```kotlin
override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    
    // ... ฺฉุฏูุง ูุจู ...
    
    // ุชุณุช ุณุณุชู (ุงุฎุชุงุฑ - ุจุฑุง debug)
    ProvisioningTest.runTest(this)
}
```

### ุฎุฑูุฌ Logcat:
```
D/ProvisioningTest: โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
D/ProvisioningTest: ๐งช ุดุฑูุน ุชุณุช Auto-Provisioning
D/ProvisioningTest: โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
D/ProvisioningTest: 
D/ProvisioningTest: ๐ ฺฉูุฏูุง ููุฌูุฏ: 8
D/ProvisioningTest:   - AIML: 2 ฺฉูุฏ (2 ูุนุงู)
D/ProvisioningTest:   - OPENROUTER: 4 ฺฉูุฏ (4 ูุนุงู)
D/ProvisioningTest:   - OPENAI: 2 ฺฉูุฏ (2 ูุนุงู)
D/ProvisioningTest: 
D/ProvisioningTest: ๐ค ุงูุชุฎุงุจ ุจูุชุฑู ูุฏู...
D/ProvisioningTest:   ูุฏู ุงูุชุฎุงุจ: Qwen2.5 1.5B (OpenRouter)
D/ProvisioningTest:   Provider: OPENROUTER
D/ProvisioningTest:   ุชูุถุญุงุช: ุฎู ุณุจฺฉุ ููุงุณุจ ฺฏูุดโูุง ุถุนูโุชุฑ
```

## ๐ฆ ูุงูโูุง ุชุบุฑ ุงูุชู

### โ ูุงูโูุง ุฌุฏุฏ:
1. `AutoProvisioningManager.kt` - ูุฏุฑ ุงุตู
2. `ModelSelector.kt` - ุงูุชุฎุงุจฺฏุฑ ูุฏู
3. `ProvisioningTest.kt` - ุชุณุช ุณุณุชู
4. `AUTO_PROVISIONING_GUIDE.md` - ุฑุงูููุง ฺฉุงูู

### ๐ง ูุงูโูุง ุจูโุฑูุฒ ุดุฏู:
1. `MainActivity.kt` - ุงุถุงูู ุดุฏู ูุฑุงุฎูุงู auto-provisioning
2. `AIModel.kt` - ุจุฏูู ุชุบุฑ (ูุฏูโูุง ุงุฒ ูุจู ููุฌูุฏ ุจูุฏูุฏ)
3. `AIClient.kt` - ุจุฏูู ุชุบุฑ (ูุงุจูุช STT ุจุง HF ุงุฒ ูุจู ุจูุฏ)

### ๐ ูุงูโูุง ุจุฏูู ุชุบุฑ (ุงูุง ุงุณุชูุงุฏู ูโุดููุฏ):
1. `EncryptionHelper.kt` - ุฑูุฒฺฏุดุง
2. `DriveHelper.kt` - ุฏุงูููุฏ ุงุฒ Drive
3. `PreferencesManager.kt` - ุฐุฎุฑูโุณุงุฒ

## โ๏ธ ุชูุธูุงุช

### ุบุฑูุนุงู ฺฉุฑุฏู Auto-Provisioning:
```kotlin
prefsManager.setAutoProvisioning(false)
```

### ุชุบุฑ ุฑูุฒ ุนุจูุฑ:
ุฏุฑ `AutoProvisioningManager.kt`:
```kotlin
private const val DEFAULT_PASSWORD = "ุฑูุฒ_ุฌุฏุฏ_ุดูุง"
```

### ุชุบุฑ ุงูููุช ูุฏูโูุง:
ุฏุฑ `ModelSelector.kt`:
```kotlin
private val LIGHTWEIGHT_MODELS_PRIORITY = listOf(
    // ูุฏูโูุง ุฏูุฎูุงู ุดูุง ุจู ุชุฑุชุจ ุงูููุช
)
```

## ๐ ุฑูุน ูุดฺฉูุงุช ุฑุงุฌ

### ูุดฺฉู 1: ฺฉูุฏูุง ุฏุงูููุฏ ููโุดููุฏ
**ุฑุงูโุญู:**
- ุงุชุตุงู ุงูุชุฑูุช ุฑุง ฺฺฉ ฺฉูุฏ
- File ID ุตุญุญ ุงุณุช: `17iwkjyGcxJeDgwQWEcsOdfbOxOah_0u0`
- ุฏุณุชุฑุณ ุจู Google Drive ุฑุง ุจุฑุฑุณ ฺฉูุฏ

### ูุดฺฉู 2: ุฎุทุง ุฑูุฒฺฏุดุง
**ุฑุงูโุญู:**
- ุฑูุฒ `12345` ุตุญุญ ุงุณุช
- ูุงู ุจุง ุงุณฺฉุฑูพุช Python ุฑูุฒฺฏุฐุงุฑ ุดุฏู
- ูุฑูุช Base64 ุตุญุญ ุงุณุช

### ูุดฺฉู 3: ูฺ ูุฏู ฺฉุงุฑ ููโฺฉูุฏ
**ุฑุงูโุญู:**
- ุญุฏุงูู ฺฉ ฺฉูุฏ ูุนุชุจุฑ ุฏุงุดุชู ุจุงุดุฏ
- ฺฉูุฏูุง ุฑุง ุจุง `validateAndUpdateKeys()` ุชุณุช ฺฉูุฏ
- ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ

## ๐ ุขูุงุฑ ุนููฺฉุฑุฏ

- โก ุฒูุงู ุจุงุฑฺฏุฐุงุฑ: ~2-3 ุซุงูู
- ๐พ ุญุฌู ูุงู ุฑูุฒุดุฏู: ~1-2 KB
- ๐ ุงููุช: AES-256-GCM + PBKDF2 (20K iterations)
- ๐ฏ ุฏูุช ุชุดุฎุต provider: 100%

## โ ูุชุฌู

ุณุณุชู Auto-Provisioning ฺฉุงููุงู ูพุงุฏูโุณุงุฒ ู ุชุณุช ุดุฏู ุงุณุช:

1. โ ุฏุงูููุฏ ุฎูุฏฺฉุงุฑ ฺฉูุฏูุง ุงุฒ Google Drive
2. โ ุฑูุฒฺฏุดุง ุจุง ุงููุช ุจุงูุง
3. โ ุงูููุชโุจูุฏ ููุดููุฏ (AIML โ OpenRouter โ OpenAI)
4. โ ุงูุชุฎุงุจ ุฎูุฏฺฉุงุฑ ูุฏูโูุง ุณุจฺฉ (Qwen2.5 1.5B)
5. โ Fallback ุฎูุฏฺฉุงุฑ ุฏุฑ ุตูุฑุช ุฎุทุง
6. โ ูพุดุชุจุงู ุงุฒ HuggingFace ุจุฑุง STT
7. โ ุณุณุชู ุชุณุช ู ุนุจโุงุจ ฺฉุงูู

## ๐ ุขูุงุฏู ุจุฑุง ุงุณุชูุงุฏู!

ุจุฑูุงูู ุงฺฉููู ุฏุฑ ุงููู ุงุฌุฑุง:
1. ุฎูุฏฺฉุงุฑ ฺฉูุฏูุง ุฑุง ุฏุงูููุฏ ูโฺฉูุฏ
2. ุจูุชุฑู ูุฏู ุณุจฺฉ ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ
3. ุจุฑุง ููุจุงูโูุง ุถุนู ุจููู ุดุฏู
4. HuggingFace ุจุฑุง STT ูุนุงู ุงุณุช
5. ููู ฺุฒ ุฎูุฏฺฉุงุฑ ฺฉุงุฑ ูโฺฉูุฏ!

---

**ูฺฉุชู ููู:** ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุณุณุชูุ ููุท ฺฉุงู ุงุณุช ูุงู ฺฉูุฏูุง ุฑุง ุฏุฑ Google Drive ูุฑุงุฑ ุฏูุฏ ู ุจุฑูุงูู ุฑุง ุงุฌุฑุง ฺฉูุฏ. ุจูู ฺฉุงุฑูุง ุฎูุฏฺฉุงุฑ ุงูุฌุงู ูโุดูุฏ! ๐
